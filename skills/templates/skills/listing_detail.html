{% extends "base.html" %}

{% block content %}

<!--{# Listing photo (service-specific) #}
{% if listing.photo %}
  <img src="{{ listing.photo.url }}" alt="Listing photo" style="max-width:400px; height:auto;">
{% elif listing.provider.profile_image %}
  <img src="{{ listing.provider.profile_image.url }}" alt="Provider photo" style="max-width:200px; height:auto;">
{% endif %}-->

{# Provider details #}
<div style="display:flex; gap:16px; align-items:flex-start;">
  {% if listing.provider.profile_image %}
    <img src="{{ listing.provider.profile_image.url }}" alt="Provider photo" style="max-width:140px; height:auto;">
  {% endif %}

    <div>
        <h2>{{ listing.skill.name }}</h2>

        <p><strong>Provider:</strong> {{ listing.provider.display_name }}</p>
        
        <p><strong>Location:</strong>
        {% if listing.location %}{{ listing.location.name }}{% else %}Not set{% endif %}
        </p>
    </div>

</div>

<p><strong>Bio:</strong><br>
        {{ listing.provider.bio|default:"(No bio provided)" }}
</p>

<p><strong>Description:</strong><br>
  {{ listing.description }}
</p>

<p><strong>Price:</strong> Â£{{ listing.price }}</p>

{% if user.is_authenticated and listing.provider == user.profile %}
  <p><a href="{% url 'edit_listing' listing.id %}">Edit this listing</a></p>
{% endif %}
<p><a href="{% url 'home' %}">Back to home</a></p>
{% endblock %}
